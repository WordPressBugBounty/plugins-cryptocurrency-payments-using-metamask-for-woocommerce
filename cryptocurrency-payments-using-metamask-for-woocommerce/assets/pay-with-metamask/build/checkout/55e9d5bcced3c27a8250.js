"use strict";(self.webpackChunkpay_with_metamask=self.webpackChunkpay_with_metamask||[]).push([[901],{87901:(e,t,c)=>{c.r(t),c.d(t,{default:()=>g});var n=c(99196),a=c(26673),r=c(11891),s=c(49588),l=c(83215),o=c(43143),i=c(37824),m=c(65645),p=c(30202),u=c(87156);const{const_msg:d,networkName:w,rpcUrl:_}=connect_wallts,h=({currentchain:e,config:t,switchModal:c,switchHandler:s})=>{const[l,o]=(0,n.useState)(!1),{open:m,setOpen:p,openSwitchNetworks:_}=(0,i.dd)(),{isConnected:h,address:E,chain:k}=(0,a.m)(),{disconnect:y}=(0,r.q)();if(!k&&h&&c&&(m&&setTimeout((()=>{s()}),100),_()),(0,n.useEffect)((()=>{k?.id===e.networks.id&&p(!1),m||o(!1)}),[k?.id,m]),m){const e=document.querySelector(".sc-dcJsrY div"),t=document.querySelector(".sc-imWYAI"),c=document.querySelector("#__CONNECTKIT__ button.sc-bypJrT");c&&!l&&(c.click(),o(!0)),t&&"Switch Networks"==e.firstChild.textContent&&(t.textContent=d.switch_network_msg)}return(0,n.createElement)(n.Fragment,null,!h&&(0,n.createElement)("div",{className:"cpmw_selected_wallet"},(0,n.createElement)("div",{className:"cpmw_p_network"},(0,n.createElement)("strong",null,d.select_network,":"),w)),k&&h&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"cpmw_p_connect"},(0,n.createElement)("div",{className:"cpmw_p_status"},d.connected),(0,n.createElement)("div",{className:"cpmw_disconnect_wallet",onClick:()=>{y()}},d.disconnect)),(0,n.createElement)("div",{className:"cpmw_p_info"},(0,n.createElement)("div",{className:"cpmw_address_wrap"},(0,n.createElement)("strong",null,d.wallet,":"),(0,n.createElement)("span",{className:"cpmw_p_address"},E)),(0,n.createElement)("div",{className:"cpmw_p_network"},(0,n.createElement)("strong",null,d.network,":")," ",e.networkResponse.decimal_networks[k?.id]?e.networkResponse.decimal_networks[k?.id]:k.name))),(0,n.createElement)(u.D8,{data:e,const_msg:d,config:t}),!h&&(0,n.createElement)(u.PP,{const_msg:d}))},E=new m.S,k=e=>{try{const[t,c]=(0,n.useState)(null),[a,r]=(0,n.useState)(!0),m=()=>{r(!1)};return(0,n.useEffect)((()=>{const t={appName:"Pay With Metamask",appDescription:window.location.host,chains:e.networks,appUrl:window.location.host,appIcon:"https://family.co/logo.png",rpcUrl:_};c((e=>{const t=(0,i._K)({appName:e.appName,chains:[e.chains],appDescription:e.appDescription,appUrl:e.appUrl,appIcon:e.appIcon,transports:{[e.chains.id]:(0,s.d)(e.rpcUrl)}});if(t){const e=[];e.push("metaMask");const c=t.connectors.filter((t=>{if(e.includes(t.id))return e.includes(t.id)}));return t.connectors=c,(0,l._)(t)}})(t))}),[e.networks]),(0,n.createElement)(n.Fragment,null,t&&e.networks&&(0,n.createElement)(o.F,{config:t},(0,n.createElement)(p.aH,{client:E},(0,n.createElement)(i.bO,{options:{hideBalance:!0,hideQuestionMarkCTA:!0},mode:"auto"},(0,n.createElement)(h,{currentchain:e,config:t,switchModal:a,switchHandler:m})))))}catch(e){console.log(e)}};var y=c(79896),f=c(9043);function g(){const{enabledCurrency:e,const_msg:t,currency_lbl:c,decimalchainId:a,active_network:r,total_price:s}=connect_wallts,[l,o]=(0,n.useState)(null),[i,m]=(0,n.useState)(null),[p,d]=(0,n.useState)(null),[w,_]=(0,n.useState)(!1),[h,E]=(0,n.useState)(!1),g=document.querySelector('input[name="payment_method"]:checked')?.value,N=document.querySelector("button#place_order");(0,n.useEffect)((()=>{s&&v(Number(s))}),[s]),(0,n.useEffect)((()=>{N.disabled="cpmw"===g}),[g]),(0,n.useEffect)((()=>{b(e)}),[e]);const v=async e=>{try{const t=await(0,f.Xz)(e,connect_wallts);b(t)}catch(e){console.error("Error fetching data:",e)}},b=async e=>{let t=[];0!==e.length&&(Object.values(e).forEach(((e,c)=>{if(!e.price)return;const a={value:e.symbol,label:(0,n.createElement)("span",{key:`cpmw_logos_${c}`,className:"cpmw_logos"},(0,n.createElement)("img",{key:`cpmw_logo_${c}`,src:e.url,alt:e.symbol,style:{width:"auto",height:"28px"}})," ",e.price," ",e.symbol),rating:e.price};t.push(a)})),d(t))};return(0,n.createElement)("div",{key:"show_currency_wrapper"},p?(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{key:c,className:"cpmwp_currency_lbl"},c),(0,n.createElement)(y.ZP,{name:"cpmwp_crypto_coin",value:i,onChange:async e=>{_(!0),m(e);const t=await(0,u.M7)(a),c=await(0,f.TU)(e.value,connect_wallts);E(c),o(t),_(!1)},options:p,placeholder:t.select_cryptocurrency}),(0,n.createElement)("input",{key:r,type:"hidden",name:"cpmw_payment_network",value:r}),w&&(0,n.createElement)(u.aN,{loader:1,width:250}),!w&&l&&(0,n.createElement)(k,{networks:l,currentprice:i,networkResponse:h})):(0,n.createElement)(u.aN,{loader:1,width:250}))}}}]);